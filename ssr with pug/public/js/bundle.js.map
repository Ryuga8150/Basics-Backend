{"mappings":";;;;;;;AEAA,2BAA2B;AAEpB,MAAM,4CAAY;IACvB,MAAM,KAAK,SAAS,aAAa,CAAC;IAElC,IAAI,IAAI,GAAG,aAAa,CAAC,WAAW,CAAC;AACvC;AAEO,MAAM,4CAAY,CAAC,MAAM;IAC9B;IACA,MAAM,SAAS,CAAC,yBAAyB,EAAE,KAAK,EAAE,EAAE,KAAK,MAAM,CAAC;IAEhE,SAAS,aAAa,CAAC,QAAQ,qBAAqB,CAAC,cAAc;IAEnE,OAAO,UAAU,CAAC,2CAAW;AAC/B;;;ADZO,MAAM,4CAAQ,OAAO,OAAO;IACjC,0BAA0B;IAC1B,QAAQ,GAAG,CAAC,OAAO;IACnB,IAAI;QACF,MAAM,MAAM,MAAM,CAAA,GAAA,sCAAI,EAAE;YACtB,QAAQ;YACR,KAAK;YACL,MAAM;uBACJ;0BACA;YACF;QACF;QAEA,QAAQ,GAAG,CAAC;QAEZ,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,WAAW;YACjC,mCAAmC;YACnC,CAAA,GAAA,yCAAQ,EAAE,WAAW;YACrB,OAAO,UAAU,CAAC;gBAChB,SAAS,MAAM,CAAC;YAClB,GAAG;QACL;IACF,EAAE,OAAO,KAAK;QACZ,kCAAkC;QAClC,QAAQ,GAAG,CAAC;IACZ,kCAAkC;IAClC,6CAA6C;IAC/C;AACF;;;AE/BO,MAAM,4CAAa,CAAC;IACzB,SAAS,WAAW,GAClB;IAEF,IAAI,MAAM,IAAI,SAAS,GAAG,CAAC;QACzB,6BAA6B;QAC7B,WAAW;QACX,OAAO;QACP,YAAY;IAId;IAEA,kBAAkB;IAClB,MAAM,SAAS,IAAI,SAAS,YAAY;IAExC,UAAU,OAAO,CAAC,CAAC;QACjB,gBAAgB;QAChB,MAAM,KAAK,SAAS,aAAa,CAAC;QAElC,sBAAsB;QACtB,GAAG,SAAS,GAAG;QAEf,aAAa;QACb,IAAI,SAAS,MAAM,CAAC;YAClB,SAAS;YACT,QAAQ;QACV,GACG,SAAS,CAAC,IAAI,WAAW,EACzB,KAAK,CAAC;QAET,YAAY;QACZ,IAAI,SAAS,KAAK,CAAC;YACjB,kCAAkC;YAClC,QAAQ;QACV,GACG,SAAS,CAAC,IAAI,WAAW,EACzB,OAAO,CAAC,CAAC,OAAO,EAAE,IAAI,GAAG,CAAC,EAAE,EAAE,IAAI,WAAW,CAAC,IAAI,CAAC,EACnD,KAAK,CAAC;QAET,gDAAgD;QAChD,OAAO,MAAM,CAAC,IAAI,WAAW;IAC/B;IAEA,IAAI,SAAS,CAAC,QAAQ;QACpB,SAAS;YACP,KAAK;YACL,QAAQ;YACR,MAAM;YACN,OAAO;QACT;IACF;AACF;;;AHlDA,eAAe;AACf,MAAM,+BAAS,SAAS,cAAc,CAAC;AACvC,MAAM,kCAAY,SAAS,aAAa,CAAC;AAEzC,aAAa;AACb,IAAI,8BAAQ;IACV,MAAM,YAAY,KAAK,KAAK,CAAC,6BAAO,OAAO,CAAC,SAAS;IACrD,0BAA0B;IAC1B,CAAA,GAAA,yCAAS,EAAE;AACb;AAEA,IAAI,iCACF,gCAAU,gBAAgB,CAAC,UAAU,CAAC;IACpC,EAAE,cAAc;IAChB,QAAQ,GAAG,CAAC;IACZ,MAAM,QAAQ,SAAS,cAAc,CAAC,SAAS,KAAK;IACpD,MAAM,WAAW,SAAS,cAAc,CAAC,YAAY,KAAK;IAC1D,CAAA,GAAA,yCAAI,EAAE,OAAO;AACf","sources":["public/js/index.js","public/js/login.js","public/js/alert.js","public/js/mapbox.js"],"sourcesContent":["import { login } from \"./login\";\r\nimport { displayMap } from \"./mapbox\";\r\n\r\n// DOM Elements\r\nconst mapBox = document.getElementById(\"map\");\r\nconst loginForm = document.querySelector(\".form\");\r\n\r\n// DELEGATION\r\nif (mapBox) {\r\n  const locations = JSON.parse(mapBox.dataset.locations);\r\n  // console.log(locations);\r\n  displayMap(locations);\r\n}\r\n\r\nif (loginForm) {\r\n  loginForm.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    console.log(\"Hii\");\r\n    const email = document.getElementById(\"email\").value;\r\n    const password = document.getElementById(\"password\").value;\r\n    login(email, password);\r\n  });\r\n}\r\n","import axios from \"axios\";\r\nimport { showAlert } from \"./alert\";\r\n\r\nexport const login = async (email, password) => {\r\n  // alert(email, password);\r\n  console.log(email, password);\r\n  try {\r\n    const res = await axios({\r\n      method: \"POST\",\r\n      url: \"http://127.0.0.1:3000/api/v1/users/login\",\r\n      data: {\r\n        email,\r\n        password,\r\n      },\r\n    });\r\n\r\n    console.log(res);\r\n\r\n    if (res.data.status === \"success\") {\r\n      // alert(\"Logged in Successfully\");\r\n      showAlert(\"success\", \"Logged in Successfully\");\r\n      window.setTimeout(() => {\r\n        location.assign(\"/\");\r\n      }, 1500);\r\n    }\r\n  } catch (err) {\r\n    // console.log(err.response.data);\r\n    console.log(err);\r\n    // console.log(err.response.data);\r\n    // alert(\"error\", err.response.data.message);\r\n  }\r\n};\r\n","// type is success or error\r\n\r\nexport const hideAlert = () => {\r\n  const el = document.querySelector(\".alert\");\r\n\r\n  if (el) el.parentElement.removeChild(el);\r\n};\r\n\r\nexport const showAlert = (type, mssg) => {\r\n  hideAlert();\r\n  const markup = `<div class=\"alert alert--${type}\">${mssg}</div>`;\r\n\r\n  document.querySelector(\"body\").insertAdjacentElement(\"afterbegin\", markup);\r\n\r\n  window.setTimeout(hideAlert, 5000);\r\n};\r\n","export const displayMap = (locations) => {\r\n  mapboxgl.accessToken =\r\n    \"pk.eyJ1Ijoicnl1Z2E4MTUwIiwiYSI6ImNscHBoejI2ZDEwOGcya29idnhxZDRyMzUifQ.WAGUEm9Wt7zDPGZ5iBxioQ\";\r\n\r\n  let map = new mapboxgl.Map({\r\n    // below will look for id map\r\n    container: \"map\",\r\n    style: \"mapbox://styles/ryuga8150/clmk9zhev01qb01qu7kks6bs2\",\r\n    scrollZoom: false,\r\n    // center:[-118.113491,34.1117451],\r\n    // zoom:10,\r\n    // interactive:false\r\n  });\r\n\r\n  // for area of map\r\n  const bounds = new mapboxgl.LngLatBounds();\r\n\r\n  locations.forEach((loc) => {\r\n    // Create marker\r\n    const el = document.createElement(\"div\");\r\n\r\n    // coming from our css\r\n    el.className = \"marker\";\r\n\r\n    // Add marker\r\n    new mapboxgl.Marker({\r\n      element: el,\r\n      anchor: \"bottom\",\r\n    })\r\n      .setLngLat(loc.coordinates)\r\n      .addTo(map);\r\n\r\n    // Add Popup\r\n    new mapboxgl.Popup({\r\n      // to prevent overlap with markers\r\n      offset: 30,\r\n    })\r\n      .setLngLat(loc.coordinates)\r\n      .setHTML(`<p>Day ${loc.day}: ${loc.description}</p>`)\r\n      .addTo(map);\r\n\r\n    // Extend map bounds to include current location\r\n    bounds.extend(loc.coordinates);\r\n  });\r\n\r\n  map.fitBounds(bounds, {\r\n    padding: {\r\n      top: 200,\r\n      bottom: 150,\r\n      left: 100,\r\n      right: 100,\r\n    },\r\n  });\r\n};\r\n"],"names":[],"version":3,"file":"bundle.js.map","sourceRoot":"../../"}